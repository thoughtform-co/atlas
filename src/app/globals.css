@import "tailwindcss";

/* Atlas Eidolon Design Tokens */
:root {
  /* ═══════════════════════════════════════════════════════════════
     SPACING SYSTEM

     Consistent spacing scale for all components.
     Use these for padding, margins, and positioning.

     Rule: Content should never feel cramped against borders.
     Minimum edge padding for framed elements: --space-md (16px)
     ═══════════════════════════════════════════════════════════════ */
  --space-xs: 8px;    /* Micro gaps, inline element spacing */
  --space-sm: 12px;   /* Small internal spacing, tight groups */
  --space-md: 16px;   /* Default card padding, element offsets from edges */
  --space-lg: 20px;   /* Larger component padding */
  --space-xl: 24px;   /* Modal sections, generous breathing room */
  --space-2xl: 32px;  /* Major section separation */

  /* Void backgrounds */
  --void: #050403;
  --surface-0: #0A0908;
  --surface-1: #0F0E0C;

  /* Semantic Dawn (primary text/particles) */
  --dawn: #ECE3D6;
  --dawn-70: rgba(236, 227, 214, 0.7);
  --dawn-50: rgba(236, 227, 214, 0.5);
  --dawn-30: rgba(236, 227, 214, 0.3);
  --dawn-15: rgba(236, 227, 214, 0.15);
  --dawn-08: rgba(236, 227, 214, 0.08);
  --dawn-04: rgba(236, 227, 214, 0.04);

  /* Tensor Gold (Astrolabe accent) */
  --gold: #CAA554;
  --gold-dim: rgba(202, 165, 84, 0.4);

  /* Threat Levels */
  --threat-benign: #5B8A7A;
  --threat-cautious: #7A7868;
  --threat-volatile: #CAA554;
  --threat-existential: #8B5A5A;

  /* Cardinal Colors */
  --cardinal-geometry: #CAA554;
  --cardinal-alterity: #ECE3D6;
  --cardinal-dynamics: #5B8A7A;

  /* Fonts */
  --font-mono: 'PT Mono', monospace;
  --font-sans: 'IBM Plex Sans', sans-serif;
}

@theme inline {
  /* Colors */
  --color-void: var(--void);
  --color-surface-0: var(--surface-0);
  --color-surface-1: var(--surface-1);
  --color-dawn: var(--dawn);
  --color-dawn-70: var(--dawn-70);
  --color-dawn-50: var(--dawn-50);
  --color-dawn-30: var(--dawn-30);
  --color-dawn-15: var(--dawn-15);
  --color-dawn-08: var(--dawn-08);
  --color-dawn-04: var(--dawn-04);
  --color-gold: var(--gold);
  --color-cardinal-geometry: var(--cardinal-geometry);
  --color-cardinal-alterity: var(--cardinal-alterity);
  --color-cardinal-dynamics: var(--cardinal-dynamics);

  /* Fonts */
  --font-mono: var(--font-mono);
  --font-sans: var(--font-sans);
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: var(--font-sans);
  background: var(--void);
  color: var(--dawn);
  min-height: 100vh;
  overflow: hidden;
}

/* Ensure no rounded corners anywhere - except threat dots */
*:not(.threat-dot) {
  border-radius: 0 !important;
}

/* Existential threat pulse animation */
@keyframes pulse-threat {
  0%, 100% { opacity: 0.8; }
  50% { opacity: 0.4; }
}

.animate-pulse-threat {
  animation: pulse-threat 2s ease-in-out infinite;
}

/* ─── HUD CORNER BRACKETS ─── */
.hud-corner {
  position: absolute;
  width: 20px;
  height: 20px;
  pointer-events: none;
}

.hud-corner::before,
.hud-corner::after {
  content: '';
  position: absolute;
  background: var(--gold);
}

.hud-corner-tl { top: clamp(32px, 5vw, 64px); left: clamp(32px, 5vw, 64px); }
.hud-corner-tl::before { top: 0; left: 0; width: 20px; height: 1px; }
.hud-corner-tl::after { top: 0; left: 0; width: 1px; height: 20px; }

.hud-corner-tr { top: clamp(32px, 5vw, 64px); right: clamp(32px, 5vw, 64px); }
.hud-corner-tr::before { top: 0; right: 0; width: 20px; height: 1px; }
.hud-corner-tr::after { top: 0; right: 0; width: 1px; height: 20px; }

.hud-corner-bl { bottom: clamp(32px, 5vw, 64px); left: clamp(32px, 5vw, 64px); }
.hud-corner-bl::before { bottom: 0; left: 0; width: 20px; height: 1px; }
.hud-corner-bl::after { bottom: 0; left: 0; width: 1px; height: 20px; }

.hud-corner-br { bottom: clamp(32px, 5vw, 64px); right: clamp(32px, 5vw, 64px); }
.hud-corner-br::before { bottom: 0; right: 0; width: 20px; height: 1px; }
.hud-corner-br::after { bottom: 0; right: 0; width: 1px; height: 20px; }

/* ─── NAVIGATION RAILS (Semantic Dawn) ─── */
.hud-rail {
  position: absolute;
  top: calc(clamp(32px, 5vw, 64px) + 20px + 20px);
  bottom: calc(clamp(32px, 5vw, 64px) + 20px + 20px);
  width: clamp(48px, 8vw, 120px);
  display: flex;
  flex-direction: column;
}

.hud-rail-left {
  left: clamp(32px, 5vw, 64px);
}

.hud-rail-right {
  right: clamp(32px, 5vw, 64px);
}

/* Faded vertical line using semantic dawn */
.hud-rail-left::before,
.hud-rail-right::before {
  content: '';
  position: absolute;
  top: 0;
  bottom: 0;
  width: 1px;
  background: linear-gradient(
    to bottom,
    transparent 0%,
    var(--dawn-30) 10%,
    var(--dawn-30) 90%,
    transparent 100%
  );
}

.hud-rail-left::before {
  left: 0;
}

.hud-rail-right::before {
  right: 0;
}

/* ─── ENERGY BEAM SCROLL INDICATOR ─── */
/* Subtle photon-like energy flowing through the right rail */
/* Only appears in scrollable views (Forge) - enabled via .has-scroll class */

/* Animated particles flowing through the beam */
@keyframes energyFlow {
  0% {
    background-position: 0 0;
  }
  100% {
    background-position: 0 120px;
  }
}

/* Energy beam only shows when .has-scroll is present */
.hud-rail-right.has-scroll::after {
  content: '';
  position: absolute;
  right: 0;
  width: 1px;
  height: 120px;
  background: 
    linear-gradient(
      to bottom,
      transparent 0%,
      var(--gold) 15%,
      var(--gold) 85%,
      transparent 100%
    ),
    repeating-linear-gradient(
      to bottom,
      transparent 0px,
      transparent 4px,
      rgba(202, 165, 84, 0.3) 4px,
      rgba(202, 165, 84, 0.3) 6px
    );
  opacity: 0.7;
  top: var(--scroll-beam-position, 0%);
  transition: top 0.15s ease-out, opacity 0.3s ease;
  box-shadow: 
    0 0 8px var(--gold-dim),
    0 0 16px rgba(202, 165, 84, 0.25);
  pointer-events: none;
  animation: energyFlow 2s linear infinite;
}

/* Scale with ticks */
.rail-scale {
  flex: 1;
  position: relative;
  width: 100%;
}

.scale-ticks {
  position: absolute;
  top: 0;
  bottom: 0;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.hud-rail-left .scale-ticks {
  left: 0;
}

.hud-rail-right .scale-ticks {
  right: 0;
}

/* Tick marks using semantic dawn */
.tick {
  height: 1px;
  background: var(--dawn-30);
}

.tick-major {
  width: 20px;
  background: var(--dawn-50);
}

.tick-minor {
  width: 10px;
  background: var(--dawn-15);
}

.tick-label {
  font-family: var(--font-mono);
  font-size: 9px;
  font-weight: 400;
  color: var(--dawn-30);
  position: absolute;
  white-space: nowrap;
}

.hud-rail-left .tick-label {
  left: 24px;
}

.hud-rail-right .tick-label {
  right: 24px;
}

/* Rail content */
.rail-content {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
  margin-bottom: var(--space-lg);
}

.hud-rail-left .rail-content {
  padding-left: 28px;
}

.hud-rail-right .rail-content {
  padding-right: 28px;
  align-items: flex-end;
}

/* Responsive: Hide rails on smaller screens */
@media (max-width: 1100px) {
  .hud-rail {
    display: none;
  }
}

@media (max-width: 600px) {
  .hud-corner {
    width: 16px;
    height: 16px;
  }
  
  .hud-corner-tl::before,
  .hud-corner-tr::before,
  .hud-corner-bl::before,
  .hud-corner-br::before {
    width: 16px;
  }
  
  .hud-corner-tl::after,
  .hud-corner-tr::after,
  .hud-corner-bl::after,
  .hud-corner-br::after {
    height: 16px;
  }
}
